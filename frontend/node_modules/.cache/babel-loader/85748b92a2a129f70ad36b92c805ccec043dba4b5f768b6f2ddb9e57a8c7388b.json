{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\discopony\\\\Desktop\\\\MSchool\\\\Notion automation\\\\Railway_Rent\\\\frontend\\\\src\\\\components\\\\EquipmentModal.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport API_BASE_URL from \"../config\";\nimport LoadingSpinner from \"./LoadingSpinner\";\nimport { getCategoryColor } from \"../utils/categoryColors\";\nimport \"./EquipmentModal.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EquipmentModal = ({\n  isOpen,\n  onClose,\n  booking,\n  onUpdate,\n  selectedEquipment,\n  onEquipmentChange\n}) => {\n  _s();\n  const [equipment, setEquipment] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [rentalData, setRentalData] = useState({\n    start_date: \"\",\n    end_date: \"\",\n    renter: \"\",\n    issuer: \"\",\n    receiver: \"\",\n    where: \"в студии\",\n    status: \"Бронь\"\n  });\n\n  // Инициализация данных аренды при открытии модального окна\n  useEffect(() => {\n    if (isOpen && booking) {\n      setRentalData({\n        start_date: booking.start_date || \"\",\n        end_date: booking.end_date || \"\",\n        renter: booking.renter || \"\",\n        issuer: booking.issuer || \"\",\n        receiver: booking.receiver || \"\",\n        where: booking.where || \"в студии\",\n        status: booking.status || \"Бронь\"\n      });\n    }\n  }, [isOpen, booking]);\n\n  // Загрузка оборудования\n  useEffect(() => {\n    if (!isOpen) return;\n    const fetchEquipment = async () => {\n      try {\n        setLoading(true);\n        let url = `${API_BASE_URL}/inventory`;\n        if (rentalData.start_date && rentalData.end_date) {\n          const params = new URLSearchParams({\n            start_date: rentalData.start_date,\n            end_date: rentalData.end_date\n          });\n          if (booking !== null && booking !== void 0 && booking.id) {\n            params.append('exclude_booking_id', booking.id);\n          }\n          if (selectedEquipment && selectedEquipment.length > 0) {\n            const currentEquipmentJson = JSON.stringify(selectedEquipment);\n            params.append('current_equipment', currentEquipmentJson);\n          }\n          url = `${API_BASE_URL}/inventory/available?${params.toString()}`;\n        }\n        const response = await fetch(url);\n        if (!response.ok) {\n          throw new Error(`Ошибка загрузки: ${response.status}`);\n        }\n        const data = await response.json();\n        setEquipment(data);\n      } catch (error) {\n        console.error(\"Ошибка загрузки оборудования:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchEquipment();\n  }, [isOpen, rentalData.start_date, rentalData.end_date, booking === null || booking === void 0 ? void 0 : booking.id, selectedEquipment]);\n\n  // Блокировка скролла при открытии модального окна\n  useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = 'hidden';\n      return () => {\n        document.body.style.overflow = 'auto';\n      };\n    }\n  }, [isOpen]);\n  const handleRentalDataChange = (field, value) => {\n    const newData = {\n      ...rentalData,\n      [field]: value\n    };\n    setRentalData(newData);\n\n    // Обновляем данные аренды\n    if (onUpdate) {\n      onUpdate(booking.id, {\n        ...booking,\n        [field]: value\n      });\n    }\n  };\n  const handleEquipmentSelect = item => {\n    const availableQuantity = getAvailableQuantity(item);\n\n    // Считаем общее количество уже выбранного оборудования с таким ID\n    const totalSelected = selectedEquipment.filter(eq => eq.id === item.id).reduce((sum, eq) => sum + (eq.quantity || 0), 0);\n\n    // Проверяем, можем ли мы добавить еще одну единицу\n    const totalAvailable = item.total || 0;\n    const occupied = item.occupied || 0;\n    const reallyAvailable = totalAvailable - occupied;\n    if (totalSelected < reallyAvailable) {\n      const existingItems = selectedEquipment.filter(eq => eq.id === item.id);\n      if (existingItems.length > 0) {\n        // Увеличиваем количество первого найденного элемента\n        const updatedEquipment = selectedEquipment.map(eq => {\n          if (eq.id === item.id && eq === existingItems[0]) {\n            const newQuantity = (eq.quantity || 1) + 1;\n            return {\n              ...eq,\n              quantity: newQuantity\n            };\n          }\n          return eq;\n        });\n        onEquipmentChange(updatedEquipment);\n      } else {\n        // Добавляем новый элемент\n        onEquipmentChange([...selectedEquipment, {\n          ...item,\n          quantity: 1\n        }]);\n      }\n    }\n    setSearchTerm(\"\"); // Очищаем поиск для следующего выбора\n  };\n  const handleEquipmentRemove = equipmentIndex => {\n    const updatedEquipment = selectedEquipment.filter((item, index) => index !== equipmentIndex);\n    onEquipmentChange(updatedEquipment);\n  };\n  const getAvailableQuantity = item => {\n    const selectedQuantity = selectedEquipment.filter(selected => selected.id === item.id).reduce((sum, selected) => sum + (selected.quantity || 0), 0);\n    const baseAvailable = item.available !== undefined ? item.available : item.total - (item.rented || 0);\n    const currentUsage = item.current_usage || 0;\n    const additionalSelected = Math.max(0, selectedQuantity - currentUsage);\n    return Math.max(0, baseAvailable - additionalSelected);\n  };\n  const filteredEquipment = equipment.filter(item => item.name.toLowerCase().includes(searchTerm.toLowerCase()) || item.category.toLowerCase().includes(searchTerm.toLowerCase()));\n  const formatDateForInput = dateString => {\n    if (!dateString) return \"\";\n    const date = new Date(dateString);\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, \"0\");\n    const day = String(date.getDate()).padStart(2, \"0\");\n    const hours = String(date.getHours()).padStart(2, \"0\");\n    const minutes = String(date.getMinutes()).padStart(2, \"0\");\n    return `${year}-${month}-${day}T${hours}:${minutes}`;\n  };\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"equipment-modal-overlay\",\n    onClick: onClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"equipment-modal-container\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"equipment-modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u0412\\u044B\\u0431\\u043E\\u0440 \\u043E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F \\u0434\\u043B\\u044F \\u0430\\u0440\\u0435\\u043D\\u0434\\u044B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"modal-close-button\",\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"equipment-modal-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rental-info-panel\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F \\u043E\\u0431 \\u0430\\u0440\\u0435\\u043D\\u0434\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rental-field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0414\\u0430\\u0442\\u0430 \\u043D\\u0430\\u0447\\u0430\\u043B\\u0430:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"datetime-local\",\n              value: formatDateForInput(rentalData.start_date),\n              onChange: e => handleRentalDataChange('start_date', e.target.value),\n              step: \"900\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rental-field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0414\\u0430\\u0442\\u0430 \\u043E\\u043A\\u043E\\u043D\\u0447\\u0430\\u043D\\u0438\\u044F:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"datetime-local\",\n              value: formatDateForInput(rentalData.end_date),\n              onChange: e => handleRentalDataChange('end_date', e.target.value),\n              step: \"900\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rental-field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0410\\u0440\\u0435\\u043D\\u0434\\u0430\\u0442\\u043E\\u0440:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: rentalData.renter,\n              onChange: e => handleRentalDataChange('renter', e.target.value),\n              placeholder: \"\\u0418\\u043C\\u044F \\u0430\\u0440\\u0435\\u043D\\u0434\\u0430\\u0442\\u043E\\u0440\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rental-field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u041A\\u0442\\u043E \\u0432\\u044B\\u0434\\u0430\\u0441\\u0442:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: rentalData.issuer,\n              onChange: e => handleRentalDataChange('issuer', e.target.value),\n              placeholder: \"\\u041A\\u0442\\u043E \\u0432\\u044B\\u0434\\u0430\\u0441\\u0442\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rental-field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u041A\\u0442\\u043E \\u043F\\u0440\\u0438\\u043D\\u044F\\u043B:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: rentalData.receiver,\n              onChange: e => handleRentalDataChange('receiver', e.target.value),\n              placeholder: \"\\u041A\\u0442\\u043E \\u043F\\u0440\\u0438\\u043D\\u044F\\u043B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rental-field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0413\\u0434\\u0435:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: rentalData.where,\n              onChange: e => handleRentalDataChange('where', e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\\u0432 \\u0441\\u0442\\u0443\\u0434\\u0438\\u0438\",\n                children: \"\\u0412 \\u0441\\u0442\\u0443\\u0434\\u0438\\u0438\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\\u043D\\u0430 \\u0432\\u044B\\u043D\\u043E\\u0441\",\n                children: \"\\u041D\\u0430 \\u0432\\u044B\\u043D\\u043E\\u0441\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rental-field\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: rentalData.status,\n              onChange: e => handleRentalDataChange('status', e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\\u0411\\u0440\\u043E\\u043D\\u044C\",\n                children: \"\\u0411\\u0440\\u043E\\u043D\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\\u0412\\u044B\\u0434\\u0430\\u043D\\u043E\",\n                children: \"\\u0412\\u044B\\u0434\\u0430\\u043D\\u043E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\\u0412\\u043E\\u0437\\u0432\\u0440\\u0430\\u0449\\u0435\\u043D\\u043E\",\n                children: \"\\u0412\\u043E\\u0437\\u0432\\u0440\\u0430\\u0449\\u0435\\u043D\\u043E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"selected-equipment-panel\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u0412\\u044B\\u0431\\u0440\\u0430\\u043D\\u043D\\u043E\\u0435 \\u043E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"selected-equipment-list\",\n            children: selectedEquipment.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"no-equipment-message\",\n              children: \"\\u041E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043D\\u0435 \\u0432\\u044B\\u0431\\u0440\\u0430\\u043D\\u043E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 33\n            }, this) : selectedEquipment.map((eq, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"selected-equipment-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"equipment-color-bar\",\n                style: {\n                  backgroundColor: getCategoryColor(eq.category)\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"equipment-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"equipment-name\",\n                  children: eq.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"equipment-meta\",\n                  children: [\"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E: \", eq.quantity || 1]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleEquipmentRemove(index),\n                className: \"remove-equipment-button\",\n                children: \"\\u2715\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 41\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"equipment-selection-panel\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u0414\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u043E\\u0435 \\u043E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"equipment-search\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"\\uD83D\\uDD0D \\u041F\\u043E\\u0438\\u0441\\u043A \\u043E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F...\",\n              value: searchTerm,\n              onChange: e => setSearchTerm(e.target.value),\n              className: \"equipment-search-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"equipment-list-container\",\n            children: loading ? /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n              message: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"equipment-list\",\n              children: filteredEquipment.length > 0 ? filteredEquipment.map(item => {\n                const availableQuantity = getAvailableQuantity(item);\n                const isAvailable = availableQuantity > 0;\n                const backgroundColor = getCategoryColor(item.category);\n                const selectedQuantity = selectedEquipment.filter(eq => eq.id === item.id).reduce((sum, eq) => sum + (eq.quantity || 0), 0);\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `equipment-item ${isAvailable ? 'available' : 'unavailable'} ${selectedQuantity > 0 ? 'selected' : ''}`,\n                  onClick: () => isAvailable && handleEquipmentSelect(item),\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"equipment-color-indicator\",\n                    style: {\n                      backgroundColor: backgroundColor\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 338,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"equipment-info\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"equipment-name\",\n                      children: item.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 343,\n                      columnNumber: 57\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"equipment-stats\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"stat available-stat\",\n                        children: [\"\\u0414\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u043E: \", availableQuantity]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 345,\n                        columnNumber: 61\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"stat total-stat\",\n                        children: [\"\\u0412\\u0441\\u0435\\u0433\\u043E: \", item.total || 0]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 348,\n                        columnNumber: 61\n                      }, this), selectedQuantity > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"stat selected-stat\",\n                        children: [\"\\u0412\\u044B\\u0431\\u0440\\u0430\\u043D\\u043E: \", selectedQuantity]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 352,\n                        columnNumber: 65\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 344,\n                      columnNumber: 57\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 53\n                  }, this), selectedQuantity > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"selection-indicator\",\n                    children: \"\\u2713\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 359,\n                    columnNumber: 57\n                  }, this)]\n                }, item.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 49\n                }, this);\n              }) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"no-results\",\n                children: searchTerm ? 'Оборудование не найдено' : 'Нет доступного оборудования'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"equipment-modal-footer\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"save-button\",\n          children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \\u0438 \\u0437\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 9\n  }, this);\n};\n_s(EquipmentModal, \"rV9Jvc9ePgwaVnLqnMlMa1fTOss=\");\n_c = EquipmentModal;\nexport default EquipmentModal;\nvar _c;\n$RefreshReg$(_c, \"EquipmentModal\");","map":{"version":3,"names":["React","useState","useEffect","API_BASE_URL","LoadingSpinner","getCategoryColor","jsxDEV","_jsxDEV","EquipmentModal","isOpen","onClose","booking","onUpdate","selectedEquipment","onEquipmentChange","_s","equipment","setEquipment","loading","setLoading","searchTerm","setSearchTerm","rentalData","setRentalData","start_date","end_date","renter","issuer","receiver","where","status","fetchEquipment","url","params","URLSearchParams","id","append","length","currentEquipmentJson","JSON","stringify","toString","response","fetch","ok","Error","data","json","error","console","document","body","style","overflow","handleRentalDataChange","field","value","newData","handleEquipmentSelect","item","availableQuantity","getAvailableQuantity","totalSelected","filter","eq","reduce","sum","quantity","totalAvailable","total","occupied","reallyAvailable","existingItems","updatedEquipment","map","newQuantity","handleEquipmentRemove","equipmentIndex","index","selectedQuantity","selected","baseAvailable","available","undefined","rented","currentUsage","current_usage","additionalSelected","Math","max","filteredEquipment","name","toLowerCase","includes","category","formatDateForInput","dateString","date","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","className","onClick","children","e","stopPropagation","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","target","step","placeholder","backgroundColor","message","isAvailable","_c","$RefreshReg$"],"sources":["C:/Users/discopony/Desktop/MSchool/Notion automation/Railway_Rent/frontend/src/components/EquipmentModal.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport API_BASE_URL from \"../config\";\nimport LoadingSpinner from \"./LoadingSpinner\";\nimport { getCategoryColor } from \"../utils/categoryColors\";\nimport \"./EquipmentModal.css\";\n\nconst EquipmentModal = ({ \n    isOpen, \n    onClose, \n    booking,\n    onUpdate,\n    selectedEquipment, \n    onEquipmentChange\n}) => {\n    const [equipment, setEquipment] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [searchTerm, setSearchTerm] = useState(\"\");\n    const [rentalData, setRentalData] = useState({\n        start_date: \"\",\n        end_date: \"\",\n        renter: \"\",\n        issuer: \"\", \n        receiver: \"\",\n        where: \"в студии\",\n        status: \"Бронь\"\n    });\n\n    // Инициализация данных аренды при открытии модального окна\n    useEffect(() => {\n        if (isOpen && booking) {\n            setRentalData({\n                start_date: booking.start_date || \"\",\n                end_date: booking.end_date || \"\",\n                renter: booking.renter || \"\",\n                issuer: booking.issuer || \"\",\n                receiver: booking.receiver || \"\",\n                where: booking.where || \"в студии\",\n                status: booking.status || \"Бронь\"\n            });\n        }\n    }, [isOpen, booking]);\n\n    // Загрузка оборудования\n    useEffect(() => {\n        if (!isOpen) return;\n\n        const fetchEquipment = async () => {\n            try {\n                setLoading(true);\n                let url = `${API_BASE_URL}/inventory`;\n                \n                if (rentalData.start_date && rentalData.end_date) {\n                    const params = new URLSearchParams({\n                        start_date: rentalData.start_date,\n                        end_date: rentalData.end_date,\n                    });\n                    \n                    if (booking?.id) {\n                        params.append('exclude_booking_id', booking.id);\n                    }\n                    \n                    if (selectedEquipment && selectedEquipment.length > 0) {\n                        const currentEquipmentJson = JSON.stringify(selectedEquipment);\n                        params.append('current_equipment', currentEquipmentJson);\n                    }\n                    \n                    url = `${API_BASE_URL}/inventory/available?${params.toString()}`;\n                }\n\n                const response = await fetch(url);\n                if (!response.ok) {\n                    throw new Error(`Ошибка загрузки: ${response.status}`);\n                }\n                const data = await response.json();\n                \n                setEquipment(data);\n            } catch (error) {\n                console.error(\"Ошибка загрузки оборудования:\", error);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        fetchEquipment();\n    }, [isOpen, rentalData.start_date, rentalData.end_date, booking?.id, selectedEquipment]);\n\n    // Блокировка скролла при открытии модального окна\n    useEffect(() => {\n        if (isOpen) {\n            document.body.style.overflow = 'hidden';\n            return () => {\n                document.body.style.overflow = 'auto';\n            };\n        }\n    }, [isOpen]);\n\n    const handleRentalDataChange = (field, value) => {\n        const newData = { ...rentalData, [field]: value };\n        setRentalData(newData);\n        \n        // Обновляем данные аренды\n        if (onUpdate) {\n            onUpdate(booking.id, {\n                ...booking,\n                [field]: value\n            });\n        }\n    };\n\n    const handleEquipmentSelect = (item) => {\n        const availableQuantity = getAvailableQuantity(item);\n        \n        // Считаем общее количество уже выбранного оборудования с таким ID\n        const totalSelected = selectedEquipment\n            .filter(eq => eq.id === item.id)\n            .reduce((sum, eq) => sum + (eq.quantity || 0), 0);\n            \n        // Проверяем, можем ли мы добавить еще одну единицу\n        const totalAvailable = item.total || 0;\n        const occupied = item.occupied || 0;\n        const reallyAvailable = totalAvailable - occupied;\n        \n        if (totalSelected < reallyAvailable) {\n            const existingItems = selectedEquipment.filter(eq => eq.id === item.id);\n            \n            if (existingItems.length > 0) {\n                // Увеличиваем количество первого найденного элемента\n                const updatedEquipment = selectedEquipment.map(eq => {\n                    if (eq.id === item.id && eq === existingItems[0]) {\n                        const newQuantity = (eq.quantity || 1) + 1;\n                        return { ...eq, quantity: newQuantity };\n                    }\n                    return eq;\n                });\n                onEquipmentChange(updatedEquipment);\n            } else {\n                // Добавляем новый элемент\n                onEquipmentChange([...selectedEquipment, { ...item, quantity: 1 }]);\n            }\n        }\n        \n        setSearchTerm(\"\"); // Очищаем поиск для следующего выбора\n    };\n\n    const handleEquipmentRemove = (equipmentIndex) => {\n        const updatedEquipment = selectedEquipment.filter((item, index) => index !== equipmentIndex);\n        onEquipmentChange(updatedEquipment);\n    };\n\n    const getAvailableQuantity = (item) => {\n        const selectedQuantity = selectedEquipment\n            .filter(selected => selected.id === item.id)\n            .reduce((sum, selected) => sum + (selected.quantity || 0), 0);\n        \n        const baseAvailable = item.available !== undefined \n            ? item.available \n            : item.total - (item.rented || 0);\n        \n        const currentUsage = item.current_usage || 0;\n        const additionalSelected = Math.max(0, selectedQuantity - currentUsage);\n            \n        return Math.max(0, baseAvailable - additionalSelected);\n    };\n\n    const filteredEquipment = equipment.filter(item => \n        item.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        item.category.toLowerCase().includes(searchTerm.toLowerCase())\n    );\n\n    const formatDateForInput = (dateString) => {\n        if (!dateString) return \"\";\n        const date = new Date(dateString);\n        const year = date.getFullYear();\n        const month = String(date.getMonth() + 1).padStart(2, \"0\");\n        const day = String(date.getDate()).padStart(2, \"0\");\n        const hours = String(date.getHours()).padStart(2, \"0\");\n        const minutes = String(date.getMinutes()).padStart(2, \"0\");\n        return `${year}-${month}-${day}T${hours}:${minutes}`;\n    };\n\n    if (!isOpen) return null;\n\n    return (\n        <div className=\"equipment-modal-overlay\" onClick={onClose}>\n            <div className=\"equipment-modal-container\" onClick={(e) => e.stopPropagation()}>\n                <div className=\"equipment-modal-header\">\n                    <h2>Выбор оборудования для аренды</h2>\n                    <button onClick={onClose} className=\"modal-close-button\">✕</button>\n                </div>\n\n                <div className=\"equipment-modal-body\">\n                    {/* Левая панель - информация об аренде */}\n                    <div className=\"rental-info-panel\">\n                        <h3>Информация об аренде</h3>\n                        \n                        <div className=\"rental-field\">\n                            <label>Дата начала:</label>\n                            <input\n                                type=\"datetime-local\"\n                                value={formatDateForInput(rentalData.start_date)}\n                                onChange={(e) => handleRentalDataChange('start_date', e.target.value)}\n                                step=\"900\"\n                            />\n                        </div>\n\n                        <div className=\"rental-field\">\n                            <label>Дата окончания:</label>\n                            <input\n                                type=\"datetime-local\"\n                                value={formatDateForInput(rentalData.end_date)}\n                                onChange={(e) => handleRentalDataChange('end_date', e.target.value)}\n                                step=\"900\"\n                            />\n                        </div>\n\n                        <div className=\"rental-field\">\n                            <label>Арендатор:</label>\n                            <input\n                                type=\"text\"\n                                value={rentalData.renter}\n                                onChange={(e) => handleRentalDataChange('renter', e.target.value)}\n                                placeholder=\"Имя арендатора\"\n                            />\n                        </div>\n\n                        <div className=\"rental-field\">\n                            <label>Кто выдаст:</label>\n                            <input\n                                type=\"text\"\n                                value={rentalData.issuer}\n                                onChange={(e) => handleRentalDataChange('issuer', e.target.value)}\n                                placeholder=\"Кто выдаст\"\n                            />\n                        </div>\n\n                        <div className=\"rental-field\">\n                            <label>Кто принял:</label>\n                            <input\n                                type=\"text\"\n                                value={rentalData.receiver}\n                                onChange={(e) => handleRentalDataChange('receiver', e.target.value)}\n                                placeholder=\"Кто принял\"\n                            />\n                        </div>\n\n                        <div className=\"rental-field\">\n                            <label>Где:</label>\n                            <select\n                                value={rentalData.where}\n                                onChange={(e) => handleRentalDataChange('where', e.target.value)}\n                            >\n                                <option value=\"в студии\">В студии</option>\n                                <option value=\"на вынос\">На вынос</option>\n                            </select>\n                        </div>\n\n                        <div className=\"rental-field\">\n                            <label>Статус:</label>\n                            <select\n                                value={rentalData.status}\n                                onChange={(e) => handleRentalDataChange('status', e.target.value)}\n                            >\n                                <option value=\"Бронь\">Бронь</option>\n                                <option value=\"Выдано\">Выдано</option>\n                                <option value=\"Возвращено\">Возвращено</option>\n                            </select>\n                        </div>\n                    </div>\n\n                    {/* Центральная панель - выбранное оборудование */}\n                    <div className=\"selected-equipment-panel\">\n                        <h3>Выбранное оборудование</h3>\n                        <div className=\"selected-equipment-list\">\n                            {selectedEquipment.length === 0 ? (\n                                <div className=\"no-equipment-message\">\n                                    Оборудование не выбрано\n                                </div>\n                            ) : (\n                                selectedEquipment.map((eq, index) => (\n                                    <div key={index} className=\"selected-equipment-item\">\n                                        <div \n                                            className=\"equipment-color-bar\"\n                                            style={{ backgroundColor: getCategoryColor(eq.category) }}\n                                        />\n                                        <div className=\"equipment-details\">\n                                            <div className=\"equipment-name\">{eq.name}</div>\n                                            <div className=\"equipment-meta\">\n                                                Количество: {eq.quantity || 1}\n                                            </div>\n                                        </div>\n                                        <button \n                                            onClick={() => handleEquipmentRemove(index)}\n                                            className=\"remove-equipment-button\"\n                                        >\n                                            ✕\n                                        </button>\n                                    </div>\n                                ))\n                            )}\n                        </div>\n                    </div>\n\n                    {/* Правая панель - выбор оборудования */}\n                    <div className=\"equipment-selection-panel\">\n                        <h3>Доступное оборудование</h3>\n                        \n                        <div className=\"equipment-search\">\n                            <input\n                                type=\"text\"\n                                placeholder=\"🔍 Поиск оборудования...\"\n                                value={searchTerm}\n                                onChange={(e) => setSearchTerm(e.target.value)}\n                                className=\"equipment-search-input\"\n                            />\n                        </div>\n\n                        <div className=\"equipment-list-container\">\n                            {loading ? (\n                                <LoadingSpinner message=\"Загрузка...\" />\n                            ) : (\n                                <div className=\"equipment-list\">\n                                    {filteredEquipment.length > 0 ? (\n                                        filteredEquipment.map((item) => {\n                                            const availableQuantity = getAvailableQuantity(item);\n                                            const isAvailable = availableQuantity > 0;\n                                            const backgroundColor = getCategoryColor(item.category);\n                                            \n                                            const selectedQuantity = selectedEquipment\n                                                .filter(eq => eq.id === item.id)\n                                                .reduce((sum, eq) => sum + (eq.quantity || 0), 0);\n                                            \n                                            return (\n                                                <div\n                                                    key={item.id}\n                                                    className={`equipment-item ${isAvailable ? 'available' : 'unavailable'} ${selectedQuantity > 0 ? 'selected' : ''}`}\n                                                    onClick={() => isAvailable && handleEquipmentSelect(item)}\n                                                >\n                                                    <div \n                                                        className=\"equipment-color-indicator\"\n                                                        style={{ backgroundColor: backgroundColor }}\n                                                    />\n                                                    <div className=\"equipment-info\">\n                                                        <div className=\"equipment-name\">{item.name}</div>\n                                                        <div className=\"equipment-stats\">\n                                                            <span className=\"stat available-stat\">\n                                                                Доступно: {availableQuantity}\n                                                            </span>\n                                                            <span className=\"stat total-stat\">\n                                                                Всего: {item.total || 0}\n                                                            </span>\n                                                            {selectedQuantity > 0 && (\n                                                                <span className=\"stat selected-stat\">\n                                                                    Выбрано: {selectedQuantity}\n                                                                </span>\n                                                            )}\n                                                        </div>\n                                                    </div>\n                                                    {selectedQuantity > 0 && (\n                                                        <div className=\"selection-indicator\">✓</div>\n                                                    )}\n                                                </div>\n                                            );\n                                        })\n                                    ) : (\n                                        <div className=\"no-results\">\n                                            {searchTerm ? 'Оборудование не найдено' : 'Нет доступного оборудования'}\n                                        </div>\n                                    )}\n                                </div>\n                            )}\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"equipment-modal-footer\">\n                    <button onClick={onClose} className=\"save-button\">\n                        Сохранить и закрыть\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default EquipmentModal;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,YAAY,MAAM,WAAW;AACpC,OAAOC,cAAc,MAAM,kBAAkB;AAC7C,SAASC,gBAAgB,QAAQ,yBAAyB;AAC1D,OAAO,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9B,MAAMC,cAAc,GAAGA,CAAC;EACpBC,MAAM;EACNC,OAAO;EACPC,OAAO;EACPC,QAAQ;EACRC,iBAAiB;EACjBC;AACJ,CAAC,KAAK;EAAAC,EAAA;EACF,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACiB,OAAO,EAAEC,UAAU,CAAC,GAAGlB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACmB,UAAU,EAAEC,aAAa,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACqB,UAAU,EAAEC,aAAa,CAAC,GAAGtB,QAAQ,CAAC;IACzCuB,UAAU,EAAE,EAAE;IACdC,QAAQ,EAAE,EAAE;IACZC,MAAM,EAAE,EAAE;IACVC,MAAM,EAAE,EAAE;IACVC,QAAQ,EAAE,EAAE;IACZC,KAAK,EAAE,UAAU;IACjBC,MAAM,EAAE;EACZ,CAAC,CAAC;;EAEF;EACA5B,SAAS,CAAC,MAAM;IACZ,IAAIO,MAAM,IAAIE,OAAO,EAAE;MACnBY,aAAa,CAAC;QACVC,UAAU,EAAEb,OAAO,CAACa,UAAU,IAAI,EAAE;QACpCC,QAAQ,EAAEd,OAAO,CAACc,QAAQ,IAAI,EAAE;QAChCC,MAAM,EAAEf,OAAO,CAACe,MAAM,IAAI,EAAE;QAC5BC,MAAM,EAAEhB,OAAO,CAACgB,MAAM,IAAI,EAAE;QAC5BC,QAAQ,EAAEjB,OAAO,CAACiB,QAAQ,IAAI,EAAE;QAChCC,KAAK,EAAElB,OAAO,CAACkB,KAAK,IAAI,UAAU;QAClCC,MAAM,EAAEnB,OAAO,CAACmB,MAAM,IAAI;MAC9B,CAAC,CAAC;IACN;EACJ,CAAC,EAAE,CAACrB,MAAM,EAAEE,OAAO,CAAC,CAAC;;EAErB;EACAT,SAAS,CAAC,MAAM;IACZ,IAAI,CAACO,MAAM,EAAE;IAEb,MAAMsB,cAAc,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACAZ,UAAU,CAAC,IAAI,CAAC;QAChB,IAAIa,GAAG,GAAG,GAAG7B,YAAY,YAAY;QAErC,IAAImB,UAAU,CAACE,UAAU,IAAIF,UAAU,CAACG,QAAQ,EAAE;UAC9C,MAAMQ,MAAM,GAAG,IAAIC,eAAe,CAAC;YAC/BV,UAAU,EAAEF,UAAU,CAACE,UAAU;YACjCC,QAAQ,EAAEH,UAAU,CAACG;UACzB,CAAC,CAAC;UAEF,IAAId,OAAO,aAAPA,OAAO,eAAPA,OAAO,CAAEwB,EAAE,EAAE;YACbF,MAAM,CAACG,MAAM,CAAC,oBAAoB,EAAEzB,OAAO,CAACwB,EAAE,CAAC;UACnD;UAEA,IAAItB,iBAAiB,IAAIA,iBAAiB,CAACwB,MAAM,GAAG,CAAC,EAAE;YACnD,MAAMC,oBAAoB,GAAGC,IAAI,CAACC,SAAS,CAAC3B,iBAAiB,CAAC;YAC9DoB,MAAM,CAACG,MAAM,CAAC,mBAAmB,EAAEE,oBAAoB,CAAC;UAC5D;UAEAN,GAAG,GAAG,GAAG7B,YAAY,wBAAwB8B,MAAM,CAACQ,QAAQ,CAAC,CAAC,EAAE;QACpE;QAEA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACX,GAAG,CAAC;QACjC,IAAI,CAACU,QAAQ,CAACE,EAAE,EAAE;UACd,MAAM,IAAIC,KAAK,CAAC,oBAAoBH,QAAQ,CAACZ,MAAM,EAAE,CAAC;QAC1D;QACA,MAAMgB,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC;QAElC9B,YAAY,CAAC6B,IAAI,CAAC;MACtB,CAAC,CAAC,OAAOE,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACzD,CAAC,SAAS;QACN7B,UAAU,CAAC,KAAK,CAAC;MACrB;IACJ,CAAC;IAEDY,cAAc,CAAC,CAAC;EACpB,CAAC,EAAE,CAACtB,MAAM,EAAEa,UAAU,CAACE,UAAU,EAAEF,UAAU,CAACG,QAAQ,EAAEd,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEwB,EAAE,EAAEtB,iBAAiB,CAAC,CAAC;;EAExF;EACAX,SAAS,CAAC,MAAM;IACZ,IAAIO,MAAM,EAAE;MACRyC,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,GAAG,QAAQ;MACvC,OAAO,MAAM;QACTH,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,QAAQ,GAAG,MAAM;MACzC,CAAC;IACL;EACJ,CAAC,EAAE,CAAC5C,MAAM,CAAC,CAAC;EAEZ,MAAM6C,sBAAsB,GAAGA,CAACC,KAAK,EAAEC,KAAK,KAAK;IAC7C,MAAMC,OAAO,GAAG;MAAE,GAAGnC,UAAU;MAAE,CAACiC,KAAK,GAAGC;IAAM,CAAC;IACjDjC,aAAa,CAACkC,OAAO,CAAC;;IAEtB;IACA,IAAI7C,QAAQ,EAAE;MACVA,QAAQ,CAACD,OAAO,CAACwB,EAAE,EAAE;QACjB,GAAGxB,OAAO;QACV,CAAC4C,KAAK,GAAGC;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EAED,MAAME,qBAAqB,GAAIC,IAAI,IAAK;IACpC,MAAMC,iBAAiB,GAAGC,oBAAoB,CAACF,IAAI,CAAC;;IAEpD;IACA,MAAMG,aAAa,GAAGjD,iBAAiB,CAClCkD,MAAM,CAACC,EAAE,IAAIA,EAAE,CAAC7B,EAAE,KAAKwB,IAAI,CAACxB,EAAE,CAAC,CAC/B8B,MAAM,CAAC,CAACC,GAAG,EAAEF,EAAE,KAAKE,GAAG,IAAIF,EAAE,CAACG,QAAQ,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;;IAErD;IACA,MAAMC,cAAc,GAAGT,IAAI,CAACU,KAAK,IAAI,CAAC;IACtC,MAAMC,QAAQ,GAAGX,IAAI,CAACW,QAAQ,IAAI,CAAC;IACnC,MAAMC,eAAe,GAAGH,cAAc,GAAGE,QAAQ;IAEjD,IAAIR,aAAa,GAAGS,eAAe,EAAE;MACjC,MAAMC,aAAa,GAAG3D,iBAAiB,CAACkD,MAAM,CAACC,EAAE,IAAIA,EAAE,CAAC7B,EAAE,KAAKwB,IAAI,CAACxB,EAAE,CAAC;MAEvE,IAAIqC,aAAa,CAACnC,MAAM,GAAG,CAAC,EAAE;QAC1B;QACA,MAAMoC,gBAAgB,GAAG5D,iBAAiB,CAAC6D,GAAG,CAACV,EAAE,IAAI;UACjD,IAAIA,EAAE,CAAC7B,EAAE,KAAKwB,IAAI,CAACxB,EAAE,IAAI6B,EAAE,KAAKQ,aAAa,CAAC,CAAC,CAAC,EAAE;YAC9C,MAAMG,WAAW,GAAG,CAACX,EAAE,CAACG,QAAQ,IAAI,CAAC,IAAI,CAAC;YAC1C,OAAO;cAAE,GAAGH,EAAE;cAAEG,QAAQ,EAAEQ;YAAY,CAAC;UAC3C;UACA,OAAOX,EAAE;QACb,CAAC,CAAC;QACFlD,iBAAiB,CAAC2D,gBAAgB,CAAC;MACvC,CAAC,MAAM;QACH;QACA3D,iBAAiB,CAAC,CAAC,GAAGD,iBAAiB,EAAE;UAAE,GAAG8C,IAAI;UAAEQ,QAAQ,EAAE;QAAE,CAAC,CAAC,CAAC;MACvE;IACJ;IAEA9C,aAAa,CAAC,EAAE,CAAC,CAAC,CAAC;EACvB,CAAC;EAED,MAAMuD,qBAAqB,GAAIC,cAAc,IAAK;IAC9C,MAAMJ,gBAAgB,GAAG5D,iBAAiB,CAACkD,MAAM,CAAC,CAACJ,IAAI,EAAEmB,KAAK,KAAKA,KAAK,KAAKD,cAAc,CAAC;IAC5F/D,iBAAiB,CAAC2D,gBAAgB,CAAC;EACvC,CAAC;EAED,MAAMZ,oBAAoB,GAAIF,IAAI,IAAK;IACnC,MAAMoB,gBAAgB,GAAGlE,iBAAiB,CACrCkD,MAAM,CAACiB,QAAQ,IAAIA,QAAQ,CAAC7C,EAAE,KAAKwB,IAAI,CAACxB,EAAE,CAAC,CAC3C8B,MAAM,CAAC,CAACC,GAAG,EAAEc,QAAQ,KAAKd,GAAG,IAAIc,QAAQ,CAACb,QAAQ,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;IAEjE,MAAMc,aAAa,GAAGtB,IAAI,CAACuB,SAAS,KAAKC,SAAS,GAC5CxB,IAAI,CAACuB,SAAS,GACdvB,IAAI,CAACU,KAAK,IAAIV,IAAI,CAACyB,MAAM,IAAI,CAAC,CAAC;IAErC,MAAMC,YAAY,GAAG1B,IAAI,CAAC2B,aAAa,IAAI,CAAC;IAC5C,MAAMC,kBAAkB,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEV,gBAAgB,GAAGM,YAAY,CAAC;IAEvE,OAAOG,IAAI,CAACC,GAAG,CAAC,CAAC,EAAER,aAAa,GAAGM,kBAAkB,CAAC;EAC1D,CAAC;EAED,MAAMG,iBAAiB,GAAG1E,SAAS,CAAC+C,MAAM,CAACJ,IAAI,IAC3CA,IAAI,CAACgC,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACzE,UAAU,CAACwE,WAAW,CAAC,CAAC,CAAC,IAC1DjC,IAAI,CAACmC,QAAQ,CAACF,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACzE,UAAU,CAACwE,WAAW,CAAC,CAAC,CACjE,CAAC;EAED,MAAMG,kBAAkB,GAAIC,UAAU,IAAK;IACvC,IAAI,CAACA,UAAU,EAAE,OAAO,EAAE;IAC1B,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAACF,UAAU,CAAC;IACjC,MAAMG,IAAI,GAAGF,IAAI,CAACG,WAAW,CAAC,CAAC;IAC/B,MAAMC,KAAK,GAAGC,MAAM,CAACL,IAAI,CAACM,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;IAC1D,MAAMC,GAAG,GAAGH,MAAM,CAACL,IAAI,CAACS,OAAO,CAAC,CAAC,CAAC,CAACF,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;IACnD,MAAMG,KAAK,GAAGL,MAAM,CAACL,IAAI,CAACW,QAAQ,CAAC,CAAC,CAAC,CAACJ,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;IACtD,MAAMK,OAAO,GAAGP,MAAM,CAACL,IAAI,CAACa,UAAU,CAAC,CAAC,CAAC,CAACN,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;IAC1D,OAAO,GAAGL,IAAI,IAAIE,KAAK,IAAII,GAAG,IAAIE,KAAK,IAAIE,OAAO,EAAE;EACxD,CAAC;EAED,IAAI,CAACpG,MAAM,EAAE,OAAO,IAAI;EAExB,oBACIF,OAAA;IAAKwG,SAAS,EAAC,yBAAyB;IAACC,OAAO,EAAEtG,OAAQ;IAAAuG,QAAA,eACtD1G,OAAA;MAAKwG,SAAS,EAAC,2BAA2B;MAACC,OAAO,EAAGE,CAAC,IAAKA,CAAC,CAACC,eAAe,CAAC,CAAE;MAAAF,QAAA,gBAC3E1G,OAAA;QAAKwG,SAAS,EAAC,wBAAwB;QAAAE,QAAA,gBACnC1G,OAAA;UAAA0G,QAAA,EAAI;QAA6B;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACtChH,OAAA;UAAQyG,OAAO,EAAEtG,OAAQ;UAACqG,SAAS,EAAC,oBAAoB;UAAAE,QAAA,EAAC;QAAC;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClE,CAAC,eAENhH,OAAA;QAAKwG,SAAS,EAAC,sBAAsB;QAAAE,QAAA,gBAEjC1G,OAAA;UAAKwG,SAAS,EAAC,mBAAmB;UAAAE,QAAA,gBAC9B1G,OAAA;YAAA0G,QAAA,EAAI;UAAoB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAE7BhH,OAAA;YAAKwG,SAAS,EAAC,cAAc;YAAAE,QAAA,gBACzB1G,OAAA;cAAA0G,QAAA,EAAO;YAAY;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC3BhH,OAAA;cACIiH,IAAI,EAAC,gBAAgB;cACrBhE,KAAK,EAAEuC,kBAAkB,CAACzE,UAAU,CAACE,UAAU,CAAE;cACjDiG,QAAQ,EAAGP,CAAC,IAAK5D,sBAAsB,CAAC,YAAY,EAAE4D,CAAC,CAACQ,MAAM,CAAClE,KAAK,CAAE;cACtEmE,IAAI,EAAC;YAAK;cAAAP,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACb,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC,eAENhH,OAAA;YAAKwG,SAAS,EAAC,cAAc;YAAAE,QAAA,gBACzB1G,OAAA;cAAA0G,QAAA,EAAO;YAAe;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC9BhH,OAAA;cACIiH,IAAI,EAAC,gBAAgB;cACrBhE,KAAK,EAAEuC,kBAAkB,CAACzE,UAAU,CAACG,QAAQ,CAAE;cAC/CgG,QAAQ,EAAGP,CAAC,IAAK5D,sBAAsB,CAAC,UAAU,EAAE4D,CAAC,CAACQ,MAAM,CAAClE,KAAK,CAAE;cACpEmE,IAAI,EAAC;YAAK;cAAAP,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACb,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC,eAENhH,OAAA;YAAKwG,SAAS,EAAC,cAAc;YAAAE,QAAA,gBACzB1G,OAAA;cAAA0G,QAAA,EAAO;YAAU;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACzBhH,OAAA;cACIiH,IAAI,EAAC,MAAM;cACXhE,KAAK,EAAElC,UAAU,CAACI,MAAO;cACzB+F,QAAQ,EAAGP,CAAC,IAAK5D,sBAAsB,CAAC,QAAQ,EAAE4D,CAAC,CAACQ,MAAM,CAAClE,KAAK,CAAE;cAClEoE,WAAW,EAAC;YAAgB;cAAAR,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/B,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC,eAENhH,OAAA;YAAKwG,SAAS,EAAC,cAAc;YAAAE,QAAA,gBACzB1G,OAAA;cAAA0G,QAAA,EAAO;YAAW;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC1BhH,OAAA;cACIiH,IAAI,EAAC,MAAM;cACXhE,KAAK,EAAElC,UAAU,CAACK,MAAO;cACzB8F,QAAQ,EAAGP,CAAC,IAAK5D,sBAAsB,CAAC,QAAQ,EAAE4D,CAAC,CAACQ,MAAM,CAAClE,KAAK,CAAE;cAClEoE,WAAW,EAAC;YAAY;cAAAR,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3B,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC,eAENhH,OAAA;YAAKwG,SAAS,EAAC,cAAc;YAAAE,QAAA,gBACzB1G,OAAA;cAAA0G,QAAA,EAAO;YAAW;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eAC1BhH,OAAA;cACIiH,IAAI,EAAC,MAAM;cACXhE,KAAK,EAAElC,UAAU,CAACM,QAAS;cAC3B6F,QAAQ,EAAGP,CAAC,IAAK5D,sBAAsB,CAAC,UAAU,EAAE4D,CAAC,CAACQ,MAAM,CAAClE,KAAK,CAAE;cACpEoE,WAAW,EAAC;YAAY;cAAAR,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3B,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC,eAENhH,OAAA;YAAKwG,SAAS,EAAC,cAAc;YAAAE,QAAA,gBACzB1G,OAAA;cAAA0G,QAAA,EAAO;YAAI;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACnBhH,OAAA;cACIiD,KAAK,EAAElC,UAAU,CAACO,KAAM;cACxB4F,QAAQ,EAAGP,CAAC,IAAK5D,sBAAsB,CAAC,OAAO,EAAE4D,CAAC,CAACQ,MAAM,CAAClE,KAAK,CAAE;cAAAyD,QAAA,gBAEjE1G,OAAA;gBAAQiD,KAAK,EAAC,6CAAU;gBAAAyD,QAAA,EAAC;cAAQ;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAC1ChH,OAAA;gBAAQiD,KAAK,EAAC,6CAAU;gBAAAyD,QAAA,EAAC;cAAQ;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CAAC,eAENhH,OAAA;YAAKwG,SAAS,EAAC,cAAc;YAAAE,QAAA,gBACzB1G,OAAA;cAAA0G,QAAA,EAAO;YAAO;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACtBhH,OAAA;cACIiD,KAAK,EAAElC,UAAU,CAACQ,MAAO;cACzB2F,QAAQ,EAAGP,CAAC,IAAK5D,sBAAsB,CAAC,QAAQ,EAAE4D,CAAC,CAACQ,MAAM,CAAClE,KAAK,CAAE;cAAAyD,QAAA,gBAElE1G,OAAA;gBAAQiD,KAAK,EAAC,gCAAO;gBAAAyD,QAAA,EAAC;cAAK;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACpChH,OAAA;gBAAQiD,KAAK,EAAC,sCAAQ;gBAAAyD,QAAA,EAAC;cAAM;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACtChH,OAAA;gBAAQiD,KAAK,EAAC,8DAAY;gBAAAyD,QAAA,EAAC;cAAU;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1C,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eAGNhH,OAAA;UAAKwG,SAAS,EAAC,0BAA0B;UAAAE,QAAA,gBACrC1G,OAAA;YAAA0G,QAAA,EAAI;UAAsB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC/BhH,OAAA;YAAKwG,SAAS,EAAC,yBAAyB;YAAAE,QAAA,EACnCpG,iBAAiB,CAACwB,MAAM,KAAK,CAAC,gBAC3B9B,OAAA;cAAKwG,SAAS,EAAC,sBAAsB;cAAAE,QAAA,EAAC;YAEtC;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,GAEN1G,iBAAiB,CAAC6D,GAAG,CAAC,CAACV,EAAE,EAAEc,KAAK,kBAC5BvE,OAAA;cAAiBwG,SAAS,EAAC,yBAAyB;cAAAE,QAAA,gBAChD1G,OAAA;gBACIwG,SAAS,EAAC,qBAAqB;gBAC/B3D,KAAK,EAAE;kBAAEyE,eAAe,EAAExH,gBAAgB,CAAC2D,EAAE,CAAC8B,QAAQ;gBAAE;cAAE;gBAAAsB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC7D,CAAC,eACFhH,OAAA;gBAAKwG,SAAS,EAAC,mBAAmB;gBAAAE,QAAA,gBAC9B1G,OAAA;kBAAKwG,SAAS,EAAC,gBAAgB;kBAAAE,QAAA,EAAEjD,EAAE,CAAC2B;gBAAI;kBAAAyB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eAC/ChH,OAAA;kBAAKwG,SAAS,EAAC,gBAAgB;kBAAAE,QAAA,GAAC,gEAChB,EAACjD,EAAE,CAACG,QAAQ,IAAI,CAAC;gBAAA;kBAAAiD,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC5B,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACL,CAAC,eACNhH,OAAA;gBACIyG,OAAO,EAAEA,CAAA,KAAMpC,qBAAqB,CAACE,KAAK,CAAE;gBAC5CiC,SAAS,EAAC,yBAAyB;gBAAAE,QAAA,EACtC;cAED;gBAAAG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA,GAhBHzC,KAAK;cAAAsC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAiBV,CACR;UACJ;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eAGNhH,OAAA;UAAKwG,SAAS,EAAC,2BAA2B;UAAAE,QAAA,gBACtC1G,OAAA;YAAA0G,QAAA,EAAI;UAAsB;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAE/BhH,OAAA;YAAKwG,SAAS,EAAC,kBAAkB;YAAAE,QAAA,eAC7B1G,OAAA;cACIiH,IAAI,EAAC,MAAM;cACXI,WAAW,EAAC,yHAA0B;cACtCpE,KAAK,EAAEpC,UAAW;cAClBqG,QAAQ,EAAGP,CAAC,IAAK7F,aAAa,CAAC6F,CAAC,CAACQ,MAAM,CAAClE,KAAK,CAAE;cAC/CuD,SAAS,EAAC;YAAwB;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC,eAENhH,OAAA;YAAKwG,SAAS,EAAC,0BAA0B;YAAAE,QAAA,EACpC/F,OAAO,gBACJX,OAAA,CAACH,cAAc;cAAC0H,OAAO,EAAC;YAAa;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,gBAExChH,OAAA;cAAKwG,SAAS,EAAC,gBAAgB;cAAAE,QAAA,EAC1BvB,iBAAiB,CAACrD,MAAM,GAAG,CAAC,GACzBqD,iBAAiB,CAAChB,GAAG,CAAEf,IAAI,IAAK;gBAC5B,MAAMC,iBAAiB,GAAGC,oBAAoB,CAACF,IAAI,CAAC;gBACpD,MAAMoE,WAAW,GAAGnE,iBAAiB,GAAG,CAAC;gBACzC,MAAMiE,eAAe,GAAGxH,gBAAgB,CAACsD,IAAI,CAACmC,QAAQ,CAAC;gBAEvD,MAAMf,gBAAgB,GAAGlE,iBAAiB,CACrCkD,MAAM,CAACC,EAAE,IAAIA,EAAE,CAAC7B,EAAE,KAAKwB,IAAI,CAACxB,EAAE,CAAC,CAC/B8B,MAAM,CAAC,CAACC,GAAG,EAAEF,EAAE,KAAKE,GAAG,IAAIF,EAAE,CAACG,QAAQ,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;gBAErD,oBACI5D,OAAA;kBAEIwG,SAAS,EAAE,kBAAkBgB,WAAW,GAAG,WAAW,GAAG,aAAa,IAAIhD,gBAAgB,GAAG,CAAC,GAAG,UAAU,GAAG,EAAE,EAAG;kBACnHiC,OAAO,EAAEA,CAAA,KAAMe,WAAW,IAAIrE,qBAAqB,CAACC,IAAI,CAAE;kBAAAsD,QAAA,gBAE1D1G,OAAA;oBACIwG,SAAS,EAAC,2BAA2B;oBACrC3D,KAAK,EAAE;sBAAEyE,eAAe,EAAEA;oBAAgB;kBAAE;oBAAAT,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC/C,CAAC,eACFhH,OAAA;oBAAKwG,SAAS,EAAC,gBAAgB;oBAAAE,QAAA,gBAC3B1G,OAAA;sBAAKwG,SAAS,EAAC,gBAAgB;sBAAAE,QAAA,EAAEtD,IAAI,CAACgC;oBAAI;sBAAAyB,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC,eACjDhH,OAAA;sBAAKwG,SAAS,EAAC,iBAAiB;sBAAAE,QAAA,gBAC5B1G,OAAA;wBAAMwG,SAAS,EAAC,qBAAqB;wBAAAE,QAAA,GAAC,oDACxB,EAACrD,iBAAiB;sBAAA;wBAAAwD,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAC1B,CAAC,eACPhH,OAAA;wBAAMwG,SAAS,EAAC,iBAAiB;wBAAAE,QAAA,GAAC,kCACvB,EAACtD,IAAI,CAACU,KAAK,IAAI,CAAC;sBAAA;wBAAA+C,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACrB,CAAC,EACNxC,gBAAgB,GAAG,CAAC,iBACjBxE,OAAA;wBAAMwG,SAAS,EAAC,oBAAoB;wBAAAE,QAAA,GAAC,8CACxB,EAAClC,gBAAgB;sBAAA;wBAAAqC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACxB,CACT;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACA,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACL,CAAC,EACLxC,gBAAgB,GAAG,CAAC,iBACjBxE,OAAA;oBAAKwG,SAAS,EAAC,qBAAqB;oBAAAE,QAAA,EAAC;kBAAC;oBAAAG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAC9C;gBAAA,GA1BI5D,IAAI,CAACxB,EAAE;kBAAAiF,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OA2BX,CAAC;cAEd,CAAC,CAAC,gBAEFhH,OAAA;gBAAKwG,SAAS,EAAC,YAAY;gBAAAE,QAAA,EACtB7F,UAAU,GAAG,yBAAyB,GAAG;cAA6B;gBAAAgG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtE;YACR;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA;UACR;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,eAENhH,OAAA;QAAKwG,SAAS,EAAC,wBAAwB;QAAAE,QAAA,eACnC1G,OAAA;UAAQyG,OAAO,EAAEtG,OAAQ;UAACqG,SAAS,EAAC,aAAa;UAAAE,QAAA,EAAC;QAElD;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd,CAAC;AAACxG,EAAA,CAxXIP,cAAc;AAAAwH,EAAA,GAAdxH,cAAc;AA0XpB,eAAeA,cAAc;AAAC,IAAAwH,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}