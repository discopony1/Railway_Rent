{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\discopony\\\\Desktop\\\\MSchool\\\\Notion automation\\\\Railway_Rent\\\\frontend\\\\src\\\\components\\\\RentalRow.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport EquipmentList from \"./EquipmentList\";\nimport StatusSelect from \"./StatusSelect\";\nimport \"./RentalRow.css\";\n\n// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst checkConflicts = (start_date, end_date, status) => {\n  const now = new Date();\n  const newConflicts = [];\n  if (!start_date || !end_date) {\n    newConflicts.push({\n      message: \"‚ùå –£–∫–∞–∂–∏—Ç–µ –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è\",\n      severity: \"error\"\n    });\n  } else {\n    const startDateTime = new Date(start_date);\n    const endDateTime = new Date(end_date);\n    if (startDateTime >= endDateTime) {\n      newConflicts.push({\n        message: \"‚ö†Ô∏è –î–∞—Ç–∞/–≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –ø–æ–∑–∂–µ –∫–æ–Ω—Ü–∞!\",\n        severity: \"error\"\n      });\n    }\n    if (startDateTime <= now && status === \"–ë—Ä–æ–Ω—å\") {\n      newConflicts.push({\n        message: \"‚ö†Ô∏è –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –Ω–∞—Å—Ç—É–ø–∏–ª–∞, –Ω–æ —Å—Ç–∞—Ç—É—Å –Ω–µ '–í—ã–¥–∞–Ω–æ'\",\n        severity: \"warning\"\n      });\n    }\n    if (endDateTime <= now && status !== \"–í–æ–∑–≤—Ä–∞—â–µ–Ω–æ\") {\n      newConflicts.push({\n        message: \"‚ö†Ô∏è –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –ø—Ä–æ—à–ª–∞, –Ω–æ —Å—Ç–∞—Ç—É—Å –Ω–µ '–í–æ–∑–≤—Ä–∞—â–µ–Ω–æ'\",\n        severity: \"warning\"\n      });\n    }\n  }\n  return newConflicts;\n};\n\n// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è\nconst checkAvailability = (rental, inventory, allRentals) => {\n  if (!rental.start_date || !rental.end_date) {\n    return {};\n  }\n  const startDate = new Date(rental.start_date);\n  const endDate = new Date(rental.end_date);\n  const updatedAvailability = {};\n  inventory.forEach(item => {\n    let totalAvailable = item.total;\n    let upcomingReturns = [];\n    allRentals === null || allRentals === void 0 ? void 0 : allRentals.forEach(rent => {\n      var _rent$equipment;\n      if (rent.status === \"–í–æ–∑–≤—Ä–∞—â–µ–Ω–æ\") return;\n      ((_rent$equipment = rent.equipment) !== null && _rent$equipment !== void 0 ? _rent$equipment : []).forEach(eq => {\n        if (eq.name === item.name) {\n          const rentStart = new Date(rent.start_date);\n          const rentEnd = new Date(rent.end_date);\n          if (rentStart <= endDate && rentEnd >= startDate) {\n            totalAvailable -= eq.quantity;\n          }\n          if (rentEnd > startDate && rentEnd < endDate) {\n            upcomingReturns.push({\n              quantity: eq.quantity,\n              returnDate: rentEnd\n            });\n          }\n        }\n      });\n    });\n    updatedAvailability[item.name] = {\n      available: Math.max(0, totalAvailable),\n      upcomingReturns: upcomingReturns.sort((a, b) => a.returnDate - b.returnDate)\n    };\n  });\n  return updatedAvailability;\n};\nconst RentalRow = ({\n  booking,\n  onUpdate,\n  onDelete,\n  allRentals = [],\n  inventory = []\n}) => {\n  _s();\n  var _rental$equipment2;\n  const [rental, setRental] = useState({\n    ...booking,\n    equipment: typeof booking.equipment === \"string\" ? JSON.parse(booking.equipment) : Array.isArray(booking.equipment) ? booking.equipment : []\n  });\n  const [showEquipmentList, setShowEquipmentList] = useState(false);\n  const [conflicts, setConflicts] = useState([]);\n  const [availableEquipment, setAvailableEquipment] = useState({});\n\n  // üîπ –ò—Å–ø–æ–ª—å–∑—É–µ–º useEffect –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏\n  useEffect(() => {\n    const newConflicts = checkConflicts(rental.start_date, rental.end_date, rental.status);\n    setConflicts(newConflicts);\n    const updatedAvailability = checkAvailability(rental, inventory, allRentals);\n    setAvailableEquipment(updatedAvailability);\n  }, [rental.start_date, rental.end_date, rental.status, inventory, allRentals]);\n\n  // üîπ –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∞—Ä–µ–Ω–¥—ã\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setRental(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleBlur = () => {\n    var _rental$equipment;\n    onUpdate(rental.id, {\n      ...rental,\n      start_date: rental.start_date || null,\n      // –ï—Å–ª–∏ –ø—É—Å—Ç–æ ‚Üí null\n      end_date: rental.end_date || null,\n      equipment: (_rental$equipment = rental.equipment) !== null && _rental$equipment !== void 0 ? _rental$equipment : [] // –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º, —á—Ç–æ —ç—Ç–æ –º–∞—Å—Å–∏–≤\n    });\n  };\n  const handleStatusChange = status => {\n    const updatedRental = {\n      ...rental,\n      status\n    };\n    setRental(updatedRental);\n    onUpdate(rental.id, updatedRental);\n  };\n  const handleEquipmentChange = selectedEquipment => {\n    const updatedRental = {\n      ...rental,\n      equipment: selectedEquipment\n    };\n    setRental(updatedRental);\n    onUpdate(rental.id, updatedRental);\n    setShowEquipmentList(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"tr\", {\n    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"datetime-local\",\n        name: \"start_date\",\n        value: rental.start_date ? new Date(rental.start_date).toISOString().slice(0, 16) : \"\",\n        onChange: handleChange,\n        onBlur: handleBlur,\n        step: \"900\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"datetime-local\",\n        name: \"end_date\",\n        value: rental.end_date ? new Date(rental.end_date).toISOString().slice(0, 16) : \"\",\n        onChange: handleChange,\n        onBlur: handleBlur,\n        step: \"900\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"renter\",\n        value: rental.renter || \"\",\n        onChange: handleChange,\n        onBlur: handleBlur\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"issuer\",\n        value: rental.issuer || \"\",\n        onChange: handleChange,\n        onBlur: handleBlur\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"receiver\",\n        value: rental.receiver || \"\",\n        onChange: handleChange,\n        onBlur: handleBlur\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"equipment-container\",\n        children: [(_rental$equipment2 = rental.equipment) === null || _rental$equipment2 === void 0 ? void 0 : _rental$equipment2.map((eq, index) => {\n          var _availableEquipment$e;\n          return /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"equipment-tag\",\n            children: [eq.name, \" \\xD7 \", eq.quantity || 1, ((_availableEquipment$e = availableEquipment[eq.name]) === null || _availableEquipment$e === void 0 ? void 0 : _availableEquipment$e.upcomingReturns.length) > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"availability-info\",\n              children: [\"(\\uD83D\\uDD04 \", availableEquipment[eq.name].upcomingReturns[0].quantity, \" \\u0435\\u0434. \\u043E\\u0441\\u0432\\u043E\\u0431\\u043E\\u0434\\u044F\\u0442\\u0441\\u044F \", availableEquipment[eq.name].upcomingReturns[0].returnDate.toLocaleString(), \" )\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 33\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 25\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowEquipmentList(true),\n          children: \"\\u0412\\u044B\\u0431\\u0440\\u0430\\u0442\\u044C \\u043E\\u0431\\u043E\\u0440\\u0443\\u0434\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }, this), showEquipmentList && /*#__PURE__*/_jsxDEV(EquipmentList, {\n        selectedEquipment: rental.equipment,\n        onSelect: handleEquipmentChange,\n        onClose: () => setShowEquipmentList(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"notes\",\n        value: rental.notes || \"\",\n        onChange: handleChange,\n        onBlur: handleBlur\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: /*#__PURE__*/_jsxDEV(StatusSelect, {\n        value: rental.status,\n        onChange: handleStatusChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: conflicts.length > 0 ? conflicts.map((conflict, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `conflict-${conflict.severity}`,\n        children: conflict.message\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 21\n      }, this)) : \"‚úì\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onDelete(rental.id),\n        children: \"\\u2715\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 9\n  }, this);\n};\n_s(RentalRow, \"M1uakcL9tptbeWQICRFmdOHyGgs=\");\n_c = RentalRow;\nexport default RentalRow;\nvar _c;\n$RefreshReg$(_c, \"RentalRow\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","EquipmentList","StatusSelect","jsxDEV","_jsxDEV","checkConflicts","start_date","end_date","status","now","Date","newConflicts","push","message","severity","startDateTime","endDateTime","checkAvailability","rental","inventory","allRentals","startDate","endDate","updatedAvailability","forEach","item","totalAvailable","total","upcomingReturns","rent","_rent$equipment","equipment","eq","name","rentStart","rentEnd","quantity","returnDate","available","Math","max","sort","a","b","RentalRow","booking","onUpdate","onDelete","_s","_rental$equipment2","setRental","JSON","parse","Array","isArray","showEquipmentList","setShowEquipmentList","conflicts","setConflicts","availableEquipment","setAvailableEquipment","handleChange","e","value","target","prev","handleBlur","_rental$equipment","id","handleStatusChange","updatedRental","handleEquipmentChange","selectedEquipment","children","type","toISOString","slice","onChange","onBlur","step","fileName","_jsxFileName","lineNumber","columnNumber","renter","issuer","receiver","className","map","index","_availableEquipment$e","length","toLocaleString","onClick","onSelect","onClose","notes","conflict","_c","$RefreshReg$"],"sources":["C:/Users/discopony/Desktop/MSchool/Notion automation/Railway_Rent/frontend/src/components/RentalRow.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport EquipmentList from \"./EquipmentList\";\r\nimport StatusSelect from \"./StatusSelect\";\r\nimport \"./RentalRow.css\";\r\n\r\n// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤\r\nconst checkConflicts = (start_date, end_date, status) => {\r\n    const now = new Date();\r\n    const newConflicts = [];\r\n\r\n    if (!start_date || !end_date) {\r\n        newConflicts.push({ message: \"‚ùå –£–∫–∞–∂–∏—Ç–µ –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è\", severity: \"error\" });\r\n    } else {\r\n        const startDateTime = new Date(start_date);\r\n        const endDateTime = new Date(end_date);\r\n\r\n        if (startDateTime >= endDateTime) {\r\n            newConflicts.push({ message: \"‚ö†Ô∏è –î–∞—Ç–∞/–≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –ø–æ–∑–∂–µ –∫–æ–Ω—Ü–∞!\", severity: \"error\" });\r\n        }\r\n\r\n        if (startDateTime <= now && status === \"–ë—Ä–æ–Ω—å\") {\r\n            newConflicts.push({\r\n                message: \"‚ö†Ô∏è –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –Ω–∞—Å—Ç—É–ø–∏–ª–∞, –Ω–æ —Å—Ç–∞—Ç—É—Å –Ω–µ '–í—ã–¥–∞–Ω–æ'\",\r\n                severity: \"warning\"\r\n            });\r\n        }\r\n\r\n        if (endDateTime <= now && status !== \"–í–æ–∑–≤—Ä–∞—â–µ–Ω–æ\") {\r\n            newConflicts.push({\r\n                message: \"‚ö†Ô∏è –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –ø—Ä–æ—à–ª–∞, –Ω–æ —Å—Ç–∞—Ç—É—Å –Ω–µ '–í–æ–∑–≤—Ä–∞—â–µ–Ω–æ'\",\r\n                severity: \"warning\"\r\n            });\r\n        }\r\n    }\r\n\r\n    return newConflicts;\r\n};\r\n\r\n// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è\r\nconst checkAvailability = (rental, inventory, allRentals) => {\r\n    if (!rental.start_date || !rental.end_date) {\r\n        return {};\r\n    }\r\n\r\n    const startDate = new Date(rental.start_date);\r\n    const endDate = new Date(rental.end_date);\r\n\r\n    const updatedAvailability = {};\r\n\r\n    inventory.forEach(item => {\r\n        let totalAvailable = item.total;\r\n        let upcomingReturns = [];\r\n\r\n        allRentals?.forEach(rent => {\r\n            if (rent.status === \"–í–æ–∑–≤—Ä–∞—â–µ–Ω–æ\") return;\r\n\r\n            (rent.equipment ?? []).forEach(eq => {\r\n                if (eq.name === item.name) {\r\n                    const rentStart = new Date(rent.start_date);\r\n                    const rentEnd = new Date(rent.end_date);\r\n\r\n                    if ((rentStart <= endDate && rentEnd >= startDate)) {\r\n                        totalAvailable -= eq.quantity;\r\n                    }\r\n\r\n                    if (rentEnd > startDate && rentEnd < endDate) {\r\n                        upcomingReturns.push({ quantity: eq.quantity, returnDate: rentEnd });\r\n                    }\r\n                }\r\n            });\r\n        });\r\n\r\n        updatedAvailability[item.name] = {\r\n            available: Math.max(0, totalAvailable),\r\n            upcomingReturns: upcomingReturns.sort((a, b) => a.returnDate - b.returnDate)\r\n        };\r\n    });\r\n\r\n    return updatedAvailability;\r\n};\r\n\r\nconst RentalRow = ({ booking, onUpdate, onDelete, allRentals = [], inventory = [] }) => {\r\n    const [rental, setRental] = useState({\r\n        ...booking,\r\n        equipment: typeof booking.equipment === \"string\"\r\n            ? JSON.parse(booking.equipment)\r\n            : Array.isArray(booking.equipment)\r\n                ? booking.equipment\r\n                : []\r\n    });\r\n\r\n    const [showEquipmentList, setShowEquipmentList] = useState(false);\r\n    const [conflicts, setConflicts] = useState([]);\r\n    const [availableEquipment, setAvailableEquipment] = useState({});\r\n\r\n    // üîπ –ò—Å–ø–æ–ª—å–∑—É–µ–º useEffect –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏\r\n    useEffect(() => {\r\n        const newConflicts = checkConflicts(rental.start_date, rental.end_date, rental.status);\r\n        setConflicts(newConflicts);\r\n\r\n        const updatedAvailability = checkAvailability(rental, inventory, allRentals);\r\n        setAvailableEquipment(updatedAvailability);\r\n    }, [rental.start_date, rental.end_date, rental.status, inventory, allRentals]);\r\n\r\n    // üîπ –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∞—Ä–µ–Ω–¥—ã\r\n    const handleChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setRental(prev => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    const handleBlur = () => {\r\n        onUpdate(rental.id, {\r\n            ...rental,\r\n            start_date: rental.start_date || null,  // –ï—Å–ª–∏ –ø—É—Å—Ç–æ ‚Üí null\r\n            end_date: rental.end_date || null,\r\n            equipment: rental.equipment ?? []      // –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º, —á—Ç–æ —ç—Ç–æ –º–∞—Å—Å–∏–≤\r\n        });\r\n    };\r\n\r\n    const handleStatusChange = (status) => {\r\n        const updatedRental = { ...rental, status };\r\n        setRental(updatedRental);\r\n        onUpdate(rental.id, updatedRental);\r\n    };\r\n\r\n    const handleEquipmentChange = (selectedEquipment) => {\r\n        const updatedRental = { ...rental, equipment: selectedEquipment };\r\n        setRental(updatedRental);\r\n        onUpdate(rental.id, updatedRental);\r\n        setShowEquipmentList(false);\r\n    };\r\n\r\n    return (\r\n        <tr>\r\n            <td>\r\n                <input\r\n                    type=\"datetime-local\"\r\n                    name=\"start_date\"\r\n                    value={rental.start_date ? new Date(rental.start_date).toISOString().slice(0, 16) : \"\"}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    step=\"900\"\r\n                />\r\n                <input\r\n                    type=\"datetime-local\"\r\n                    name=\"end_date\"\r\n                    value={rental.end_date ? new Date(rental.end_date).toISOString().slice(0, 16) : \"\"}\r\n                    onChange={handleChange}\r\n                    onBlur={handleBlur}\r\n                    step=\"900\"\r\n                />\r\n            </td>\r\n\r\n            <td><input type=\"text\" name=\"renter\" value={rental.renter || \"\"} onChange={handleChange} onBlur={handleBlur} /></td>\r\n            <td><input type=\"text\" name=\"issuer\" value={rental.issuer || \"\"} onChange={handleChange} onBlur={handleBlur} /></td>\r\n            <td><input type=\"text\" name=\"receiver\" value={rental.receiver || \"\"} onChange={handleChange} onBlur={handleBlur} /></td>\r\n\r\n            <td>\r\n                <div className=\"equipment-container\">\r\n                    {rental.equipment?.map((eq, index) => (\r\n                        <span key={index} className=\"equipment-tag\">\r\n                            {eq.name} √ó {eq.quantity || 1}\r\n                            {availableEquipment[eq.name]?.upcomingReturns.length > 0 && (\r\n                                <span className=\"availability-info\">\r\n                                    (üîÑ {availableEquipment[eq.name].upcomingReturns[0].quantity} –µ–¥. –æ—Å–≤–æ–±–æ–¥—è—Ç—Å—è {availableEquipment[eq.name].upcomingReturns[0].returnDate.toLocaleString()} )\r\n                                </span>\r\n                            )}\r\n                        </span>\r\n                    ))}\r\n                    <button onClick={() => setShowEquipmentList(true)}>–í—ã–±—Ä–∞—Ç—å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</button>\r\n                </div>\r\n\r\n                {showEquipmentList && (\r\n                    <EquipmentList\r\n                        selectedEquipment={rental.equipment}\r\n                        onSelect={handleEquipmentChange}\r\n                        onClose={() => setShowEquipmentList(false)}\r\n                    />\r\n                )}\r\n            </td>\r\n\r\n            <td><input type=\"text\" name=\"notes\" value={rental.notes || \"\"} onChange={handleChange} onBlur={handleBlur} /></td>\r\n\r\n            <td>\r\n                <StatusSelect\r\n                    value={rental.status}\r\n                    onChange={handleStatusChange}\r\n                />\r\n            </td>\r\n\r\n            <td>\r\n                {conflicts.length > 0 ? conflicts.map((conflict, index) => (\r\n                    <div key={index} className={`conflict-${conflict.severity}`}>\r\n                        {conflict.message}\r\n                    </div>\r\n                )) : \"‚úì\"}\r\n            </td>\r\n\r\n            <td>\r\n                <button onClick={() => onDelete(rental.id)}>‚úï</button>\r\n            </td>\r\n        </tr>\r\n    );\r\n};\r\n\r\nexport default RentalRow;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}